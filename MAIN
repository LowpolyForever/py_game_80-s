#Scuffed Donky KONG (Brian, Leo, Harris)

import pygame
pygame.init()

#constants
SCREEN_DIMENSIONS = (480,640)
GROUND_HEIGHT = (620)
gravity = (2)
jump_limit = GROUND_HEIGHT - 20

#Colors
BLACK = (0,0,0)
WHITE = (255,255,255)
BLUE = (78,113,228)
GREEN = (55,206,45)
GREY = (181, 181, 181)

#Mario Position
x = (240)
y = (620)
velocity = 3

#functions 
def drawing(screen, BLACK, WHITE, GREY, x, y):
    screen.fill(BLACK)  # Fills the screen with black
    pygame.draw.rect(
        (screen), (BLUE), ((x,y),(10,-20)),) #draws mario
    pygame.draw.rect((screen), (WHITE), ((0,620),(480,20)),) #draws floor
    pygame.draw.rect((screen), (WHITE), ((0,580),(400,-5)),) #draws second floor
    pygame.draw.rect((screen), (WHITE), ((80,535),(400,-5)),) #draws third floor
    



#Setup
screen = pygame.display.set_mode(SCREEN_DIMENSIONS)
pygame.display.set_caption ("MAIN")

#MAIN LOOP --------------------------------------------
game_over = False
while not game_over:
    pygame.time.delay(10)#delays each frame by 10 millisecs
    for event in pygame.event.get():
        if event.type == pygame.KEYDOWN and event.key == pygame.K_ESCAPE: #Quits Game when escape key pressed
            game_over = True
    keys = pygame.key.get_pressed()

    if keys[pygame.K_LEFT]: #moves mario left
        x = x - 1 * velocity
    if keys[pygame.K_RIGHT]: #moves mario right
        x = x + 1 * velocity
    if keys[pygame.K_SPACE] and y > jump_limit: #makes mario jump
        y = y - 4
    if y < GROUND_HEIGHT: #gives mario gravity
        y = y + 1 * gravity
    #ground height detect
    if y < 580:
        GROUND_HEIGHT = 575
    if x > 400 and y < 580:
        GROUND_HEIGHT = 620
    if y < 540:
        GROUND_HEIGHT = 535
    #ceiling detection
    if y > 580 and x < 400:
        jump_limit = 600
    if y > 540 and x < 80:
        jump_limit = 470
    else:
        jump_limit = 555
    #edge dtection
    if x > 470:
        x = 470
    if x < 0:
        x = 0
 
    
    drawing(screen, BLACK, WHITE, GREY, x, y)

    pygame.display.update()






